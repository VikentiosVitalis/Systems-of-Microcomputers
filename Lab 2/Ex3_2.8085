START:
CALL KIND
CPI 00H
JZ START ;if A=0 jump start
MVI C,80H
MVI D,80H
MOV B,A
CPI 09H
JC ADDPOWERS ;if A>0 & A<9 jump ADDPOWERS
JMP START

ADDPOWERS:
MOV A,B
CPI 00H
JZ FINISH
MOV A,C
ADD D ;add a power of 2
MOV C,A
DCR B ;
MOV A,D
RLC ;left shift register
MOV D,A
JMP ADDPOWERS

FINISH:
MOV A,C
STA 3000H
JMP START
END